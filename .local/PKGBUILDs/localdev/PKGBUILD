pkgname=localdev
pkgver=20201123
pkgrel=1
arch=('x86_64')
depends=("git"
         "vlc"
         "bash-completion"
         "firefox-developer-edition"
         "devtools"
         "dhclient"
         "fzf"
         "ripgrep"
         "kitty"
         "namcap"
         "nftables"
         "oath-toolkit"
         "openssh"
         "p7zip"
         "pavucontrol"
         "ponymix"
         "perl-datetime"
         "perl-datetime-cron-simple"
         "perl-email-mime"
         "perl-string-shellquote"
         "perl-uri"
         "perl-tidy"
         "perl-text-csv"
         "perl-mime-tools"
         "schroot"
         "rsync"
         "pwgen"
         "pulseaudio"
         "sudo"
         "unzip"
         "vim"
         "vim-airline"
         "xautolock"
         "xbindkeys"
         "xdg-user-dirs"
         "xfsprogs"
         "xorg-fonts-100dpi"
         "xorg-fonts-75dpi"
         "xorg-server"
         "xorg-xinit"
         "xorg-xinput"
         "xorg-xrandr"
         "zip"
         "man"
         "man-pages"
         "xorg-xsetroot"
         "i3lock"
         "keepassxc"
         "ncmpc"
         "pass")
license=('MIT')
source=("100-adwaita.hook"
        "100-systemd-boot.hook"
        "100-target-update.hook"
        "etcgitstatus.path"
        "etcgitstatus.service"
        ".gitignore"
        "index.theme"
        "wsw.service"
        "siteblock.service"
        "post-commit.git")
md5sums=("SKIP"
         "SKIP"
         "SKIP"
         "SKIP"
         "SKIP"
         "SKIP"
         "SKIP"
         "SKIP"
         "SKIP"
         "SKIP")
pkgdesc="local machine etc files"

pkgver(){
    echo $(date +%Y%m%d)
}

package() {
    local f
    mkdir -p $pkgdir/etc/pacman.d/hooks
    install -Dm644 .gitignore $pkgdir/etc/
    for f in 100-adwaita.hook 100-systemd-boot.hook 100-target-update.hook index.theme; do
        install -Dm644 $f $pkgdir/etc/pacman.d/hooks/$f
    done
    mkdir -p $pkgdir/etc/skel
    install -Dm755 post-commit.git $pkgdir/etc/skel/
    mkdir -p $pkgdir/usr/lib/systemd/system
    for f in etcgitstatus.path etcgitstatus.service wsw.service siteblock.service; do
        install -Dm644 $f $pkgdir/usr/lib/systemd/system/$f
    done
}
