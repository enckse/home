#!/bin/bash
_totp() {
    local opts cur
    opts=$(/home/enck/.bin/totp --list --pass ~/store/pass/personal)
    cur=${COMP_WORDS[COMP_CWORD]}
    COMPREPLY=( $(compgen -W "$opts" -- $cur) )
}

complete -F _totp totp

_wsw() {
    local opts cur
    opts=$(wsw --mode list)
    cur=${COMP_WORDS[COMP_CWORD]}
    COMPREPLY=( $(compgen -W "reload $opts" -- $cur) )
}

complete -F _wsw wsw

_wiki() {
    local cur opts
    cur=${COMP_WORDS[COMP_CWORD]}
    opts=$(find ~/store/personal/notebook@localhost -type f -name "*.md" | sed "s#/home/enck/store/personal/notebook@localhost/##g")
    COMPREPLY=( $(compgen -W "$opts" -- $cur) )
}

complete -F _wiki wiki

_pkgl-binrel() {
    local cur opts
    cur=${COMP_WORDS[COMP_CWORD]}
    opts="external internal"
    COMPREPLY=( $(compgen -W "$opts" -- $cur) )
}

complete -F _pkgl-binrel pkgl-binrel
