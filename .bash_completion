#!/bin/bash
_email() {
    local cur opts
    if [ $COMP_CWORD -eq 1 ]; then
        cur=${COMP_WORDS[COMP_CWORD]}
        COMPREPLY=( $(compgen -W "search run" -- $cur) )
    fi
}

complete -F _email email

_totp() {
    local opts cur
    source $HOME/.config/home/common
    opts=$($HOME_BIN/totp _list)
    cur=${COMP_WORDS[COMP_CWORD]}
    COMPREPLY=( $(compgen -W "$opts" -- $cur) )
}

complete -F _totp totp

_wsw() {
    local opts cur
    source $HOME/.config/home/common
    opts=$(wsw --mode list)
    cur=${COMP_WORDS[COMP_CWORD]}
    COMPREPLY=( $(compgen -W "reload $opts" -- $cur) )
}

complete -F _wsw wsw

_updates() {
    local cur opts
    if [ $COMP_CWORD -eq 1 ]; then
        cur=${COMP_WORDS[COMP_CWORD]}
        COMPREPLY=( $(compgen -W "music weechat maintain" -- $cur) )
    fi
}

complete -F _updates updates

_pkg-checkinstall() {
    local cur
    cur=${COMP_WORDS[COMP_CWORD]}
    COMPREPLY=( $(compgen -W "--no-checkout --no-reset --clean --no-pull" -- $cur) )
}

complete -F _pkg-checkinstall pkg-checkinstall
