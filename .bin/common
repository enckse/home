#!/bin/bash
USER_TMP=$HOME/.tmp
USER_CRYPT=$USER_TMP/crypt.img
USER_STATS_ON=$USER_TMP/system-stats-toggle
USER_TOUCH="$USER_CRYPT $USER_STATS_ON"
INSTALL_KEYWORD="--install"
REMOVE_KEYWORD="--remove"
INSTALL_DIR="/opt/"
WIFI_OFF="$USER_TMP/wifi-off"
PROFILE_DEF="${USER_TMP}/profile.next"
SYNC_NOW="${USER_TMP}/sync.now"
TOUCHPAD_SETTING="${USER_TMP}/touchpad"

NSPAWN_JOURNAL_CATEGORY="nspawn"
SYNC_JOURNAL_CATEGORY="syncing"
LOCK_JOURNAL_CATEGORY="locking"
ALL_JOURNAL_CATEGORIES="$NSPAWN_JOURNAL_CATEGORY $SYNC_JOURNAL_CATEGORY $LOCK_JOURNAL_CATEGORY"

function toggle-touchpad()
{
    INPUT_ID=$(xinput | grep "ImPS/2" | sed -n -e 's/^.*id=//p' | sed -e "s/\s/ /g" | cut -d " " -f 1)
    IS_ENABLED=$(xinput list-props $INPUT_ID | grep "Device Enabled" | cut -d ":" -f 2)
    IS_ENABLED=$(echo $IS_ENABLED)
    if [ $IS_ENABLED -gt 0 ]; then
        touch $TOUCHPAD_SETTING
        IS_ENABLED=0
    else
        rm -f $TOUCHPAD_SETTING
        IS_ENABLED=1
    fi
    xinput set-prop $INPUT_ID "Device Enabled" $IS_ENABLED
}

function log-message()
{
    echo "$2" | systemd-cat -t "$1"
}


function get-install-path()
{
    echo "${INSTALL_DIR}$1"
}
